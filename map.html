<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <title></title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.40.0/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.40.0/mapbox-gl.css' rel='stylesheet' />
  <style>
  body { margin:0; padding:0; }
  #map { position:absolute; top:0; bottom:0; width:100%; }
  </style>
</head>
<body>

  <style>
  .marker {
    display: block;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    padding: 0;
    background-repeat: no-repeat;
    background-position: 50%;
  }
</style>

<div id='map'></div>

<script>
mapboxgl.accessToken = 'pk.eyJ1Ijoiam9yZ2V0cjU0OTIiLCJhIjoiY2o2eWcyb281MXZnNDJxbzRwZjB5b2ZpcyJ9.SFbLSnf9NBxVSUZE-JHpYA';
var geojson = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "title": "<img src='https://img.buzzfeed.com/buzzfeed-static/static/2015-05/12/19/enhanced/webdr14/enhanced-31393-1431471796-1.png' style='width: 30px; position: absolute; float: left;'><h2 style='margin-left: 47px;'>Unidad: GUA-11004</h2><img src='http://icons.iconarchive.com/icons/aha-soft/free-large-boss/512/Police-Officer-icon.png' style='width: 54px;float: right;margin-top: -33px;margin-right: 2px;' /><br><h4 style='font-size: 11px;'>Encargado: SUBCOMISARIO. OTONIEL LOPEZ LOPEZ</h4>",
        "description": "<p style='font-size: 11px;' >Avenida La Pedrera, Zona 6, Guatemala City, Guatemala</p><br /><p> LngLtd: [-90.493744, 14.6568] </p><br><img src='https://cdn4.iconfinder.com/data/icons/simplicio/128x128/player_stop.png' style='width: 30px;' /> ",


        "iconSize": [100, 100]

      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -90.4856093,
          14.6104525
        ]
      }
    },


  ]
};

var map = new mapboxgl.Map({
  container: 'map',
  style: 'mapbox://styles/mapbox/light-v9',
  center:[-90.4845096, 14.6099957],
  zoom: 16
});

// add markers to map
geojson.features.forEach(function(marker) {
  // create a DOM element for the marker
  var el = document.createElement('div');
  el.className = 'marker';
  el.style.backgroundImage = 'url(http://thor.gpoinnovate.com/ortodonciagt/images/pin.svg)';
  el.style.width = marker.properties.iconSize[0] + 'px';
  el.style.height = marker.properties.iconSize[1] + 'px';

  var popup = new mapboxgl.Popup()
  .setHTML("<h4>Ortodoncia Gt</h4>");
  // add marker to map
  new mapboxgl.Marker(el)
  .setLngLat(marker.geometry.coordinates)
  .setPopup(popup)
  .addTo(map);
});

map.scrollZoom.disable();
map.addControl(new mapboxgl.NavigationControl());
</script>

</body>
</html>
